sap.ui.define(["sap/m/MessageToast","sap/ui/webc/main/TreeItem"],function(e,t){"use strict";var o=this;var a;var n;var r;var l;var i;return{onPress:function(t){e.show("Custom handler invoked.")},onAfterItemAdded:function(e){debugger;var o=e.oSource.getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent().oContainer.getParent().getParent().getParent().getManifestObject()._oBaseUri._string;var a=e.getParameter("item");var i=e.getParameter("item").getFileName();var d=e.getParameter("item").getFileObject().type;if(!n){n=true;var s=new sap.m.Dialog({contentWidth:"40%",endButton:new sap.m.Button({text:"Cancel",press:function(e){debugger;s.close();sap.ui.getCore().byId("vobscreen4::VOB_Screen4ObjectPage--fe::CustomSubSection::Attachments--11").mAggregations.items[1].destroyIncompleteItems();s.destroyContent();n=false}}),beginButton:new sap.m.Button({text:"Ok",press:function(e){debugger;l=e.getSource().getParent().mAggregations.content[1].mAggregations.items[0].mProperties.footerText;if(l==="Click on the folder to select path"){var t=sap.m.MessageBox.warning("No folder selected.",{title:"Warning",onClose:function(){t.close();debugger}})}else{debugger;var o=function(e){debugger;var t={mediaType:e.getMediaType(),fileName:e.getFileName(),Folder:l};var o={url:"/odata/v4/my/NewFiles",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(t)};return new Promise((e,t)=>{$.ajax(o).done((t,o,a)=>{e(t.ID)}).fail(e=>{t(e)})})};o(a).then(e=>{debugger;var t=`/odata/v4/my/NewFiles(${e})/content`;a.setUploadUrl(t);s.close();s.destroyContent();n=false;var o=sap.ui.getCore().byId("reportentity::MasterDataObjectPage--fe::CustomSubSection::AddKeyAttachments--uploadSet");o.setHttpRequestMethod("PUT");o.uploadItem(a)}).catch(e=>{console.log(e)});debugger}}})});var c=new sap.m.VBox({width:"100%",height:"100%"});c.addStyleClass("vboxclass");var f=new sap.m.HBox;var p=new sap.ui.core.Icon({src:r,size:"2rem",marginRight:"0.5rem"});debugger;var m=new sap.m.Text({text:i});p.addStyleClass("icon");m.addStyleClass("name");c.addItem(f);var u=new sap.m.VBox("vb1");u.addItem(new sap.m.Tree("treee",{itemPress:async function(e){let t=e.mParameters.item;let o="";let a=t;while(a&&a.getId()!=="treee"){let e=a.getText();o=`${e} / ${o}`;a=a.getParent()}sap.ui.getCore().byId("treee").setFooterText(o)},footerText:"Click on the folder to select path",headerText:"Folders",items:[new sap.m.CustomTreeItem("folder_1",{counter:1,content:[new sap.m.CustomTreeItem("folder_2",{counter:2,content:[new sap.m.StandardTreeItem("folder_2.1",{icon:"sap-icon://folder-full",title:"NDA"}),new sap.m.StandardTreeItem("folder_2.2",{icon:"sap-icon://folder-full",title:"RFQ"}),new sap.m.StandardTreeItem("folder_2.3",{icon:"sap-icon://folder-full",title:"Quote and Quote Synthesis"}),new sap.m.StandardTreeItem("folder_2.4",{icon:"sap-icon://folder-full",title:"Quote Backup"}),new sap.m.StandardTreeItem("folder_2.5",{icon:"sap-icon://folder-full",title:"Supplier Details"}),new sap.m.StandardTreeItem("folder_2.6",{icon:"sap-icon://folder-full",title:"Offer price Approval from Bazzar Sales Team"}),new sap.m.CustomTreeItem("folder_2.7",{counter:3,content:[new sap.m.StandardTreeItem("folder_2.7.1",{icon:"sap-icon://folder-2",title:"PPT"}),new sap.m.StandardTreeItem("folder_9.2",{icon:"sap-icon://folder-2",title:"Backup data"}),new sap.m.StandardTreeItem("folder_9.3",{icon:"sap-icon://folder-2",title:"Approval"})]}),new sap.m.StandardTreeItem("folder_2.8",{icon:"sap-icon://folder-full",title:"Vendor Code Creation"}),new sap.m.StandardTreeItem("folder_2.9",{icon:"sap-icon://folder-full",title:"NDA sign-off with Packagign Supplier"}),new sap.m.StandardTreeItem("folder_3.0",{icon:"sap-icon://folder-full",title:"Packaging Sign-offr"}),new sap.m.StandardTreeItem("folder_3.1",{icon:"sap-icon://folder-full",title:"Proposed and Approved Drawings"}),new sap.m.StandardTreeItem("folder_3.2",{icon:"sap-icon://folder-full",title:"Validation Reports"}),new sap.m.StandardTreeItem("folder_3.3",{icon:"sap-icon://folder-full",title:"Final Drawing Approval for Production"}),new sap.m.StandardTreeItem("folder_3.4",{icon:"sap-icon://folder-full",title:"VPPAP"})]})]})]}),new sap.ui.webc.main.Tree("treee",{itemClick:async function(e){let t=e.mParameters.item;let o="";let a=t;while(a&&a.getId()!=="treee"){let e=a.getText();o=`${e} / ${o}`;a=a.getParent()}sap.ui.getCore().byId("treee").setFooterText(o)},footerText:"Click on the folder to select path",headerText:"Folders",items:[new t("folder_1",{icon:"sap-icon://folder-full",text:"Part No",items:[new t("folder_2",{icon:"sap-icon://folder-full",text:"Vendor 1",items:[new t("folder_2.1",{icon:"sap-icon://folder-full",text:"NDA"}),new t("folder_2.2",{icon:"sap-icon://folder-full",text:"RFQ"}),new t("folder_2.3",{icon:"sap-icon://folder-full",text:"Quote and Quote Synthesis"}),new t("folder_2.4",{icon:"sap-icon://folder-full",text:"Quote Backup"}),new t("folder_2.5",{icon:"sap-icon://folder-full",text:"Supplier Details"}),new t("folder_2.6",{icon:"sap-icon://folder-full",text:"Offer price Approval from Bazzar Sales Team"}),new t("folder_2.7",{icon:"sap-icon://folder-full",text:"SBU VOB FORUM",items:[new t("folder_2.7.1",{icon:"sap-icon://folder-2",text:"PPT"}),new t("folder_9.2",{icon:"sap-icon://folder-2",text:"Backup data"}),new t("folder_9.3",{icon:"sap-icon://folder-2",text:"Approval"})]}),new t("folder_2.8",{icon:"sap-icon://folder-full",text:"Vendor Code Creation"}),new t("folder_2.9",{icon:"sap-icon://folder-full",text:"NDA sign-off with Packagign Supplier"}),new t("folder_3.0",{icon:"sap-icon://folder-full",text:"Packaging Sign-offr"}),new t("folder_3.1",{icon:"sap-icon://folder-full",text:"Proposed and Approved Drawings"}),new t("folder_3.2",{icon:"sap-icon://folder-full",text:"Validation Reports"}),new t("folder_3.3",{icon:"sap-icon://folder-full",text:"Final Drawing Approval for Production"}),new t("folder_3.4",{icon:"sap-icon://folder-full",text:"VPPAP"})]})]})]}));s.addContent(c);s.addContent(u);s.open()}},onUploadCompleted:function(e){debugger;var t=this.byId("uploadSet");t.removeAllIncompleteItems();t.getBinding("items").refresh()},formatThumbnailUrl:function(e){debugger;var t;switch(e){case"image/png":t="sap-icon://card";break;case"text/plain":t="sap-icon://document-text";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":t="sap-icon://excel-attachment";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":t="sap-icon://doc-attachment";break;case"application/pdf":t="sap-icon://pdf-attachment";break;default:t="sap-icon://attachment"}return t}}});
//# sourceMappingURL=Attachaments.js.map